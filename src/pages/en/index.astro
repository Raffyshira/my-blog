---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Container from "@/components/Container.astro";
import Prose from "@/components/Prose.astro"

import {
  Button
} from "../../components/ui/button.jsx";

import myImage from "../../assets/akurafi.jpg";
import project1 from "../../assets/projectsekolah.jpg";

import {
  Instagram,
  ExternalLink,
  Github,
  Globe,
} from 'lucide-react';

import type {
  Lang
} from "../../i18n.ts"
import {
  getCollection
} from "astro:content";

import {
  Image
} from "astro:assets";

const locale = Astro.currentLocale as Lang;

const posts = (await getCollection("blog")).filter((post) => post.slug.split("/")[0] === locale).sort((a, b) => a.data.date.valueOf() - b.data.date.valueOf());

const listTech = ["Astro.js", "Typescript", "React", "Tailwindcss", "Shadcn UI", "Framer Motion", "MDX", "Sitemap", "Node.js"]

const myskill = ["Astro.js", "Typescript", "React", "Tailwindcss", "Shadcn UI", "Framer Motion", "MDX", "Sitemap", "Node.js", "HTML", "CSS", "Javascript", "Bootstrap", "i18n", "Vite", "Next UI", "Markdown", "Appwrite", "Supabase"]
---

<BaseLayout>
  <Container>
    <article class="w-full">
      <div class="grid grid-cols-3">
        <h1 class="font-NeueMedium text-xl sm:text-3xl col-span-2">Yoo, I'm Rafi Ahsira Prayoga <br />Front-end Developer based in indonesia</h1>
      <Image class="aspect-square object-cover rounded-full w-32 col-span-1 sm:w-36" src={myImage} alt="..." width={300} height={100} loading="eager" format="webp" />
    </div>
    <p class="text-base sm:text-lg my-3.5 text-foreground dark:text-neutral-400 ">
      This is my little corner on the internet, where you can learn more <span class="text-foreground text-blue-700 dark:text-lime-500 underline"><a href={`/${locale}/blog/my-journey`}>about me</a></span> and  <span class="text-foreground text-blue-700 underline dark:text-lime-500"><a href={`/${locale}/blog`}>my hobbie</a></span>
    </p>
    <p class="text-base sm:text-lg mb-3.5 text-foreground dark:text-neutral-400">
      In my spare time, I share what i learn on my  <span class="text-foreground text-blue-700 underline dark:text-lime-500"><a href={`/${locale}/blog`}>blog</a></span> about tech especially web developer.
    </p>
  </article>
  <div class="w-full flex justify-start items-center gap-5">
    <a class="inline-flex items-center gap-x-3 text-sm text-foreground font-Neue" href="https://www.instagram.com/raffyshira?igsh=MXhja28zbTZ1MHFyOQ==" target="_blank">
      <Instagram className="w-4 h-4" /> Instagram <ExternalLink className="w-4 h-4" />
    </a>
    <a class="inline-flex items-center gap-x-3 text-sm text-foreground font-Neue" href="https://github.com/Raffyshira" target="_blank">
      <Github className="w-4 h-4" /> Github <ExternalLink className="w-4 h-4" />
    </a>
  </div>
</Container>


<Container>
  <Prose>
    <h1 class="text-xl md:text-2xl font-NeueMedium underline underline-offset-4 decoration-2 decoration-blue-700 dark:decoration-lime-500 ">About me</h1>
    <p class="text-foreground dark:text-neutral-400">
      Yooo, my name is Rafi Ahsira Prayoga but everyone call me Rapii. I lived in Muncar,
      Banyuwangi, Indonesia. I'm 21 years old. While
      I'm not that old. At this age, I have a high sense of enthusiasm and curiosity about
      current technology , such as AI, web development, and much more. see more about me with this <span><a href={`/${locale}/blog/my-journey`}>link</a></span>
    </p>
  </Prose>
  <div class="flex flex-wrap gap-2 my-3.5 pb-3">
    {
    myskill.map(item => (
      <p class="bg-neutral-700 h-6 text-xs py-1 rounded-full px-3 text-white">
{
        item
      }
      </p>
      ))
      }
      </div>
    </Container>

      <Container>
        <div>
          <h1 class="text-xl md:text-2xl font-NeueMedium underline underline-offset-4 decoration-2 decoration-blue-700 dark:decoration-lime-500 ">Recent Posts</h1>
          <div>
            {posts.map((post) => {
              const [, ...slug] = post.slug.split("/");
              return (
                <div class="mt-3.5">
          <a class="flex flex-row-reverse justify-between items-center gap-x-3 border-b pb-1.5" href= { `/${locale}/blog/${slug.join("/")}/` }>
                  {
                    post.data.cover && (
                      <Image class="rounded-none w-32 aspect-video object-cover" src= { post.data.cover } format="webp" alt= { post.data.title } width= { 300 } height= { 100 } />
                    )}
            <div class="my-3.5">
              <h2 class="text-xl font-NeueMedium"> {
                        post.data.title
                      }</h2>
              <time class="my-1 text-xs text-neutral-500 dark:text-neutral-400" datetime= { post.data.date.toLocaleDateString("id-ID")}> {
                        post.data.date.toLocaleDateString("id-ID")
                      }
              </time>
              <p class="text-neutral-500 dark:text-neutral-400 text-sm line-clamp-2 ">
{
                        post.data.description
                      }
                    </p>
                  </div>
          </a>
                </div>
              );
            })}
            </div>
          </div>
        </Container>

        <Container>
          <h1 class="text-xl md:text-2xl font-NeueMedium underline underline-offset-4 decoration-2 decoration-blue-700 dark:decoration-lime-500 ">Selected Project</h1>
          <figure class="w-full mt-3.5 rounded-xl flex flex-col-reverse dark:bg-neutral-800 bg-neutral-900">
            <article class="px-3 text-white">
              <h1 class="text-xl font-NeueMedium w-60">School Website's</h1>
              <p class="text-xs mt-2">
                23 Sep 2023 - Present
              </p>
              <p class="mt-3.5 text-neutral-400">
                This site using a framework called  astro.js, Astro.js is powerful static site website and have a several feature such a blog with markdown, 100% SEO, view-transition, and a poweful performace.
              </p>
              <div class="flex flex-wrap gap-2 my-3.5 pb-3">
                {
                listTech.map(item => (
                  <p class="bg-neutral-700 h-6 text-xs py-1 rounded-full px-3">
{
                    item
                  }
                  </p>
                  ))
                  }
                  </div>
                  <Button size="sm" className="mb-3.5 text-xs rounded-full h-6" client:load>
                    <a class="inline-flex items-center" href="https://smpn4muncarsatuatap.sch.id/"><Globe className="w-3 h-3 mr-1" />Visit website</a>
                  </Button>
                </article>
                  <Image class="w-full mx-auto mb-3.5 rounded-t-xl" src={project1} alt="Project 1" infersize={true} />
                </figure>
              </Container>

              <Container>
                <h1 class="text-xl md:text-2xl font-NeueMedium underline underline-offset-4 decoration-2 decoration-blue-700 dark:decoration-lime-500 ">Works</h1>
                <article class="mt-3.5 border-b pb-3">
                  <div class="flex flex-row justify-between items-start">
                    <div>
                      <h1 class="text-xl font-NeueMedium">Freelance</h1>
                      <p class="text-sm">
                        Front-end Developer
                      </p>
                    </div>
                    <p class="dark:text-neutral-400 text-sm text-foreground">
                      23 Sep 2023 - Present
                    </p>
                  </div>
                </article>
                <article class="mt-3.5 border-b pb-3">
                  <div class="flex flex-row justify-between items-start">
                    <div>
                      <h1 class="text-xl font-NeueMedium">Barista</h1>
                      <p class="text-sm">
                        Arah Pulang Coffee Shop
                      </p>
                    </div>
                    <p class="dark:text-neutral-400 text-sm text-foreground">
                      23 Sep 2023 - 14 Mar 2024
                    </p>
                  </div>
                </article>
              </Container>
            </BaseLayout>